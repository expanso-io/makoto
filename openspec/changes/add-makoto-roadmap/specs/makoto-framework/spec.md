## ADDED Requirements

### Requirement: Makoto Level 1 - Provenance Exists
The system SHALL support Level 1 attestations where machine-readable provenance documentation accompanies data outputs.

#### Scenario: L1 attestation generation
- **WHEN** a data pipeline produces output
- **THEN** a Makoto L1 attestation MAY be generated documenting origin and processing steps

#### Scenario: L1 attestation format compliance
- **WHEN** an L1 attestation is created
- **THEN** it SHALL conform to the in-toto Statement v1 format with Makoto predicate types

### Requirement: Makoto Level 2 - Provenance is Authentic
The system SHALL support Level 2 attestations where provenance is cryptographically signed and tamper-evident.

#### Scenario: L2 attestation signing
- **WHEN** an L2 attestation is created
- **THEN** it SHALL be signed using ECDSA P-256 or equivalent cryptographic algorithm

#### Scenario: L2 attestation verification
- **WHEN** a consumer receives an L2 attestation
- **THEN** they SHALL be able to verify the signature against a known public key

#### Scenario: L2 hash chaining
- **WHEN** a transform attestation is created at L2
- **THEN** it SHALL include cryptographic hashes of all input datasets

### Requirement: Makoto Level 3 - Provenance is Unforgeable
The system SHALL support Level 3 attestations where signing is isolated from data processing logic.

#### Scenario: L3 isolated signing
- **WHEN** an L3 attestation is created
- **THEN** the signing operation SHALL occur in an isolated environment inaccessible to data processing code

#### Scenario: L3 platform verification
- **WHEN** an L3 attestation is verified
- **THEN** the verifier SHALL confirm the attestation was generated by a trusted platform

### Requirement: Origin Attestation Predicate
The system SHALL support origin attestations documenting where data was collected.

#### Scenario: Origin attestation creation
- **WHEN** data is collected from an external source
- **THEN** an origin attestation SHALL record source URI, collection method, timestamp, and geography

#### Scenario: Origin consent documentation
- **WHEN** data collection requires consent
- **THEN** the origin attestation SHALL include consent type and reference

### Requirement: Transform Attestation Predicate
The system SHALL support transform attestations documenting how data was processed.

#### Scenario: Transform attestation creation
- **WHEN** data undergoes a transformation
- **THEN** a transform attestation SHALL record input references, transform type, parameters, and output hash

#### Scenario: Transform code reference
- **WHEN** a transform attestation is created
- **THEN** it SHALL include a reference to the transformation code with version and digest

### Requirement: Stream Window Attestation Predicate
The system SHALL support stream window attestations for high-throughput streaming data.

#### Scenario: Window attestation with Merkle tree
- **WHEN** a tumbling window closes on a data stream
- **THEN** a stream window attestation SHALL include the Merkle root of all records in the window

#### Scenario: Window chain linking
- **WHEN** consecutive stream windows are attested
- **THEN** each attestation SHALL reference the previous window's Merkle root

### Requirement: Data Bill of Materials (DBOM)
The system SHALL support DBOM generation documenting complete data lineage.

#### Scenario: DBOM generation
- **WHEN** a dataset's lineage is requested
- **THEN** a DBOM SHALL be generated listing all sources, transformations, and attestation references

#### Scenario: DBOM lineage graph
- **WHEN** a DBOM is created
- **THEN** it SHALL include a lineage graph showing data flow from sources through transformations

### Requirement: SDK Availability
The system SHALL provide SDKs for attestation generation and verification.

#### Scenario: Python SDK usage
- **WHEN** a developer uses the Python SDK
- **THEN** they SHALL be able to generate, sign, and verify Makoto attestations

#### Scenario: Go SDK usage
- **WHEN** a developer uses the Go SDK
- **THEN** they SHALL be able to generate, sign, and verify Makoto attestations with streaming support

#### Scenario: JavaScript SDK usage
- **WHEN** a developer uses the JavaScript SDK
- **THEN** they SHALL be able to verify Makoto attestations in browser and Node.js environments

### Requirement: Open Schema Publication
The system SHALL publish Makoto vocabulary as a Schema.org extension.

#### Scenario: Schema.org vocabulary hosting
- **WHEN** users access makoto.dev/schema/
- **THEN** they SHALL receive JSON-LD context defining Makoto data types

#### Scenario: Schema.org submission
- **WHEN** the vocabulary is finalized
- **THEN** it SHALL be submitted to Schema.org for consideration as a community extension

### Requirement: Comparison Documentation
The system SHALL provide documentation comparing Makoto to related standards.

#### Scenario: Open Lineage comparison
- **WHEN** users evaluate Makoto vs Open Lineage
- **THEN** documentation SHALL explain when to use each and how they differ

#### Scenario: SLSA relationship documentation
- **WHEN** users familiar with SLSA evaluate Makoto
- **THEN** documentation SHALL explain Makoto as a sibling framework for data (vs software)

### Requirement: Verification Tooling
The system SHALL provide tools for verifying Makoto attestations.

#### Scenario: CLI verification
- **WHEN** a user runs `makoto verify --attestation <file>`
- **THEN** the tool SHALL validate signature, format, and optionally check data hash binding

#### Scenario: Web explorer verification
- **WHEN** a user uploads an attestation to the web explorer
- **THEN** the interface SHALL display verification status and visualize lineage
